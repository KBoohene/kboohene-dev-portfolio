<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Loading</title>

	<link href="css/style.min.css" rel="stylesheet" type="text/css">
	<link href="css/reset.css" rel="stylesheet" type="text/css">
	<script type="text/javascript" src="js/jquery-3.3.1.min.js"></script>
	<script type="text/javascript" src="js/progressbar.js"></script>

</head>
<!--TODO:Transition to home page-->

<body>
	<div id="loading">
		<div id="loading-center">
			<div id="loading-center-absolute">
				<div class="object" id="object_four"></div>
				<div class="object" id="object_three"></div>
				<div class="object" id="object_two"></div>
				<div class="object" id="object_one"></div>
			</div>

			<div id="line-container">
				<div id="loading-line"></div>
			</div>

		</div>


		<script>
			setTimeout(() => {
				$(".object ,#loading-center-absolute").addClass("move");
			}, -1);

			let bar = new ProgressBar.Line("#loading-line", {
				strokeWidth: 0.5,
				duration: 7000,
				color: "#1f1f1f",
				trailColor: "#a3a3a3",
				trailWidth: 1,
				svgStyle: {
					width: "40%",
					height: "20%",
					borderRadius: '8px'
				},
				from: {
					color: "#fff",
				},
				to: {
					color: "#487eb0",
				},
				text: {
					style: {
						position: 'absolute',
						top: '30px',
						left: '18.5%',
						color: 'white',
					},
				},

				step: (state, bar, attachement) => {
					bar.setText(Math.round(bar.value() * 100) + "%");
					bar.path.setAttribute('stroke', state.color);

				}
			});
			bar.animate(1);

			setTimeout(() => {
				$(".progressbar-text").addClass("disappear");
			}, 7000)
		</script>

		<style>
			.progressbar-text.disappear {
				opacity: 0;
				transition: opacity 1s ease-in-out;
			}
		</style>

	</div>


</body>

</html>