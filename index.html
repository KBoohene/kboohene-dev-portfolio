<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Loading</title>

	<link href="css/style.min.css" rel="stylesheet" type="text/css">
	<link href="css/reset.css" rel="stylesheet" type="text/css">
	<link href="css/animsition.css" rel="stylesheet" type="text/css" />
	<script type="text/javascript" src="js/jquery-3.3.1.min.js"></script>
	<script type="text/javascript" src="js/animsition.js"></script>
	<script type="text/javascript" src="js/progressbar.js"></script>

</head>
<!--TODO:Transition to home page-->

<!--Spinner object-->

<body>
	<div id="loading" class="animsition">
		<div id="loading-center">
			<div id="loading-center-absolute">
				<div class="object" id="object_four"></div>
				<div class="object" id="object_three"></div>
				<div class="object" id="object_two"></div>
				<div class="object" id="object_one"></div>
			</div>

			<!--Progress Line Bar-->

		</div>
		<div id="line-container">
			<div id="loading-line"></div>
		</div>


		<script>
			//Alters starting angle of spinner
			setTimeout(() => {
				$(".object ,#loading-center-absolute").addClass("move");
			}, -1);

			//Loading bar config
			let bar = new ProgressBar.Line("#loading-line", {
				strokeWidth: 0.5,
				duration: 9000,
				color: "#1f1f1f",
				trailColor: "#a3a3a3",
				trailWidth: 1,
				svgStyle: {
					width: "600px",
					height: "20%",
					borderRadius: '8px'
				},
				from: {
					color: "#fff",
				},
				to: {
					color: "#1f1f1f",
				},
				text: {
					style: {
						margin: 'auto',
						color: 'white',
					},
				},

				step: (state, bar, attachement) => {
					bar.setText(Math.round(bar.value() * 100) + "%");
					bar.path.setAttribute('stroke', state.color);

				}
			});
			bar.animate(1);

			//Loading text animation
			setTimeout(() => {
				$(".progressbar-text").addClass("disappear");
			}, 9000)

			//Page Fade Out
			setTimeout(() => {
				let $elem = $('#loading');
				$(".animsition").animsition('out', $elem, "./home.html");

			}, 11000);

			//Page Fade In
			$(".animsition").animsition({
				inClass: 'fade-in'
			});
		</script>

		<style>
			/*Styling for disappearing loading text*/

			.progressbar-text.disappear {
				opacity: 0;
				transition: opacity 1s ease-in-out;
			}
		</style>

	</div>


</body>

</html>